daemonize = true
log_level = "trace"
logfile = "/var/log/empowerd/empowerd.log"

[database]
url = "127.0.0.1:8086"
name = "empowerd"
user = "empowerd"
password = "password"

[graphql]
listen_address = "127.0.0.1:3001"
session_timeout = 300
username = "user"
hashed_password = "$argon2i$v=19$m=4096,t=3,p=1$MTIzNDU2Nzg$y8JaUwdNBwIXjh8MsBXCpGZ/avW2uhupKJsomvqnyiY"

#[[source]]
#name = "battery"
#type = "SunnyIsland"
#address = "192.168.1.125"
#poll_interval = 10

#[[source]]
#name = "battery"
#type = "SunnyBoyStorage"
#address = "192.168.1.125"
#poll_interval = 10

#[[source]]
#name = "generator"
#type = "DachsMsrS"
#address = "192.168.1.123"
#password = "AAABBBCCCDDDEEE"
#poll_interval = 300

#[[source]]
#name = "wallbox"
#type = "KeContact"
#address = "192.168.1.124"
#poll_interval = 300

#[[source]]
#name = "heatpump"
#type = "LambdaHeatPump"
#address = "192.168.1.125"
#oversample_factor = 10
#poll_interval = 300

#[[source]]
#name = "energymeter"
#type = "SmaMeter"
#address = "192.168.1.127"
#bind_address = "192.168.1.10"
#poll_interval = 300

#[[source]]
#name = "meter"
#type = "SmlMeter"
#device = "/dev/ttyUSB0"
#baud = 9600
#poll_interval = 300

#[[source]]
#name = "solar"
#type = "SunnyBoySpeedwire"
#address = "192.168.1.125"
#password = "0000"
#poll_interval = 300

#[[source]]
#name = "solar"
#type = "SunspecSolar"
#address = "192.168.1.126"
#modbus_id = 126
#poll_interval = 300

#[[source]]
#name = "weather"
#type = "Bresser6in1"
#poll_interval = 300

[[source]]
name = "debugsrc"
type = "Debug"
poll_interval = 1

[[processor]]
name = "debugproc"
type = "Debug"
input = "debugsrc"
output = "debugsink"

#[[processor]]
#name = "power"
#type = "AvailablePower"
#battery_input = "battery"
#meter_input = "meter"
#battery_threshold = 10000

#[[processor]]
#name = "charging"
#type = "Appliance"
#power_input = "power"
#appliance_input = "wallbox"
#appliance_output = "wallboxsink"
#tau = 400

#[[processor]]
#name = "heatpumpproc"
#type = "Appliance"
#power_input = "charging"
#appliance_input = "heatpump"
#appliance_output = "heatpumpsink"

#[[processor]]
#name = "load control"
#type = "LoadControl"
#meter_addr = "192.168.1.128"
#bind_addr = "192.168.1.10"
#meter_serial = 123456768
#ctrl_serial = 100000000
#battery_input = "battery"
#battery_empty_cap = 1000
#battery_threshold_cap = 3000
#hysteresis_cap = 100
#basic_load = 500
#min_grid_power = 100
#num_points = 5

[[sink]]
name = "debugsink"
type = "Debug"

#[[sink]]
#name = "wallboxsink"
#type = "KeContact"
#address = "192.168.1.124"

#[[sink]]
#name = "heatpumpsink"
#type = "LambdaHeatPump"
#address = "192.168.1.125"

#[[sink]]
#name = "relay1"
#icon = "Valve"
#type = "Gpio"
#dev = "/dev/gpiochip0"
#on_time = 5
#pin_num = 18
